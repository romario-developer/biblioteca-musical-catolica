<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Musical Cat√≥lica - In√≠cio</title>

    <!-- Link para o arquivo de estilo principal -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Links para a biblioteca Swiper.js -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js" defer></script>
</head>

<body>
    <header class="main-header">
        <div class="logo">Holy<span>Tracks</span></div>
    </header>

    <main>

        <section class="hero-section">
            <h1>Sua Biblioteca de M√∫sicas Cat√≥licas</h1>
            <p>Encontre multitracks, letras e cifras para todos os momentos da sua miss√£o.</p>
        </section>


        <class="main-container">
            <!-- IN√çCIO DO NOVO SLIDER DE CARDS -->
            <div class="shelf-slider-container">
                <div class="swiper"> <!-- Nome de classe mais simples recomendado pelo Swiper v8+ -->
                    <div class="swiper-wrapper" id="slider-destaques">
                        <!-- Os cards do slider ser√£o inseridos aqui -->
                    </div>
                </div>
                <!-- Setas de navega√ß√£o fora do cont√™iner principal do Swiper -->
                <div class="swiper-button-prev shelf-arrow"></div>
                <div class="swiper-button-next shelf-arrow"></div>
            </div>
            <!-- FIM DO NOVO SLIDER DE CARDS -->


            <section class="music-shelf">
                <h2 class="shelf-title">Tempos Lit√∫rgicos</h2>
                <div class="shelf-grid">
                    <a href="advento.html" class="category-card card-advento">
                        <div class="card-artwork">üïØÔ∏è</div>
                        <div class="card-info">
                            <div class="card-title">Advento</div>
                            <div class="card-description">Prepara√ß√£o</div>
                        </div>
                    </a>
                    <a href="natal.html" class="category-card card-natal">
                        <div class="card-artwork">‚≠ê</div>
                        <div class="card-info">
                            <div class="card-title">Natal</div>
                            <div class="card-description">Celebra√ß√£o</div>
                        </div>
                    </a>
                    <a href="quaresma.html" class="category-card card-quaresma">
                        <div class="card-artwork">‚úùÔ∏è</div>
                        <div class="card-info">
                            <div class="card-title">Quaresma</div>
                            <div class="card-description">Convers√£o</div>
                        </div>
                    </a>
                    <a href="pascoa.html" class="category-card card-pascoa">
                        <div class="card-artwork">üïäÔ∏è</div>
                        <div class="card-info">
                            <div class="card-title">P√°scoa</div>
                            <div class="card-description">Ressurrei√ß√£o</div>
                        </div>
                    </a>
                    <a href="tempo-comum.html" class="category-card card-comum">
                        <div class="card-artwork">üå±</div>
                        <div class="card-info">
                            <div class="card-title">Tempo Comum</div>
                            <div class="card-description">Caminhada</div>
                        </div>
                    </a>
                </div>
            </section>

            <section class="music-shelf">
                <h2 class="shelf-title">Momentos e Solenidades</h2>
                <div class="shelf-grid">
                    <a href="grupo-oracao.html" class="category-card card-especiais">
                        <div class="card-artwork">üî•</div>
                        <div class="card-info">
                            <div class="card-title">Grupo de Ora√ß√£o</div>
                            <div class="card-description">Louvor e Adora√ß√£o</div>
                        </div>
                    </a>
                    <a href="corpus-christi.html" class="category-card card-corpus">
                        <div class="card-artwork">üçû</div>
                        <div class="card-info">
                            <div class="card-title">Corpus Christi</div>
                            <div class="card-description">Solenidade</div>
                        </div>
                    </a>
                    <a href="pentecostes.html" class="category-card card-pentecostes">
                        <div class="card-artwork">üïäÔ∏è</div>
                        <div class="card-info">
                            <div class="card-title">Pentecostes</div>
                            <div class="card-description">Solenidade</div>
                        </div>
                    </a>
                    <a href="casamento.html" class="category-card card-casamento">
                        <div class="card-artwork">üë∞ü§µ</div>
                        <div class="card-info">
                            <div class="card-title">Casamento</div>
                            <div class="card-description">Cerim√¥nia</div>
                        </div>
                    </a>
                </div>
            </section>
        </div>
        </main>

    <script>
        async function carregarDestaques() {
            try {
                const response = await fetch('https://biblioteca-musical-catolica.onrender.com/api/destaques');
                if (!response.ok) throw new Error('N√£o foi poss√≠vel carregar os destaques.');
                const destaques = await response.json();

                if (destaques.length === 0) {
                    document.querySelector('.shelf-slider-container').style.display = 'none';
                    return;
                }

                const sliderWrapper = document.getElementById('slider-destaques');
                sliderWrapper.innerHTML = '';

                destaques.forEach(destaque => {
                    // Cria o slide como um link <a>
                    const slideLink = document.createElement('a');
                    slideLink.className = 'swiper-slide';
                    // Se n√£o houver link, aponta para '#' para n√£o quebrar
                    slideLink.href = destaque.linkUrl || '#';

                    slideLink.innerHTML = `
                    <div class="slide-card">
                        <div class="slide-artwork" style="background-image: url('${destaque.imageUrl}')"></div>
                        <div class="slide-info">
                            <!-- Futuramente, podemos adicionar um t√≠tulo aqui se o backend fornecer -->
                        </div>
                    </div>
                `;
                    sliderWrapper.appendChild(slideLink);
                });

                // Inicializa o Swiper com as novas configura√ß√µes
                new Swiper('.swiper', {
                    slidesPerView: 'auto',
                    spaceBetween: 20,
                    loop: true,

                    autoplay: {
                        delay: 3000, // Tempo em milissegundos (3 segundos)
                        disableOnInteraction: false, // Continua o autoplay mesmo depois que o usu√°rio interage
                        pauseOnMouseEnter: true,     // Pausa o autoplay quando o mouse est√° sobre o slider
                    },

                    speed: 1000, // Velocidade da transi√ß√£o em milissegundos (1 segundo)
                    effect: 'slide', // Garante que o efeito principal √© o de slide


                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                    breakpoints: {
                        320: { slidesPerView: 2, spaceBetween: 10 },
                        480: { slidesPerView: 3, spaceBetween: 15 },
                        768: { slidesPerView: 4, spaceBetween: 20 },
                        1024: { slidesPerView: 5, spaceBetween: 20 },
                    }
                });

            } catch (error) {
                console.error('Erro ao carregar destaques:', error);
                document.querySelector('.shelf-slider-container').style.display = 'none';
            }
        }
        document.addEventListener('DOMContentLoaded', carregarDestaques);
    </script>

</body>

</html>